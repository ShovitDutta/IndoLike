(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{46:(e,r,a)=>{"use strict";a.d(r,{J:()=>l,default:()=>s});var t=a(5155),i=a(483),n=a(2115);function s(e){let{children:r}=e,[a,s]=(0,n.useState)(null),[l,o]=(0,n.useState)(null);return(0,n.useEffect)(()=>{localStorage.getItem("last-played")&&s(localStorage.getItem("last-played"))},[]),(0,t.jsx)(i.$.Provider,{value:{music:a,setMusic:s,current:l,setCurrent:o},children:r})}let l=()=>(0,n.useContext)(i.$)},183:(e,r,a)=>{"use strict";a.d(r,{$:()=>s});var t=a(5155),i=a(2115),n=a(5384);let s=i.forwardRef((e,r)=>{let{className:a,variant:s="default",size:l="default",asChild:o=!1,Icon:c,iconPlacement:d,children:u,...m}=e,p=(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","default"===s&&"bg-primary text-primary-foreground hover:bg-primary/90","destructive"===s&&"bg-destructive text-destructive-foreground hover:bg-destructive/90","outline"===s&&"border border-input bg-background hover:bg-accent hover:text-accent-foreground","secondary"===s&&"bg-secondary text-secondary-foreground hover:bg-secondary/80","ghost"===s&&"hover:bg-accent hover:text-accent-foreground","link"===s&&"text-primary underline-offset-4 hover:underline","expandIcon"===s&&"group relative text-primary-foreground bg-primary hover:bg-primary/90","ringHover"===s&&"bg-primary text-primary-foreground transition-all duration-300 hover:bg-primary/90 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2","shine"===s&&"text-primary-foreground animate-shine bg-gradient-to-r from-primary via-primary/75 to-primary bg-[length:400%_100%] ","gooeyRight"===s&&"text-primary-foreground relative bg-primary z-0 overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:-z-10 before:translate-x-[150%] before:translate-y-[150%] before:scale-[2.5] before:rounded-[100%] before:bg-gradient-to-r from-zinc-400 before:transition-transform before:duration-1000  hover:before:translate-x-[0%] hover:before:translate-y-[0%] ","gooeyLeft"===s&&"text-primary-foreground relative bg-primary z-0 overflow-hidden transition-all duration-500 after:absolute after:inset-0 after:-z-10 after:translate-x-[-150%] after:translate-y-[150%] after:scale-[2.5] after:rounded-[100%] after:bg-gradient-to-l from-zinc-400 after:transition-transform after:ease-in-out after:duration-300  hover:after:translate-x-[0%] hover:after:translate-y-[0%] ","linkHover1"===s&&"relative after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-left after:scale-x-100 hover:after:origin-bottom-right hover:after:scale-x-0 after:transition-transform after:ease-in-out after:duration-300","linkHover2"===s&&"relative after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300","default"===l&&"h-10 px-4 py-2","sm"===l&&"h-9 rounded-md px-3","lg"===l&&"h-11 rounded-md px-8","icon"===l&&"h-10 w-10",a),f=(0,t.jsxs)(t.Fragment,{children:[c&&"left"===d&&(0,t.jsx)("div",{className:"w-0 translate-x-[0%] pr-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:translate-x-100 group-hover:pr-2 group-hover:opacity-100",children:(0,t.jsx)(c,{})}),u,c&&"right"===d&&(0,t.jsx)("div",{className:"w-0 translate-x-[100%] pl-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:translate-x-0 group-hover:pl-2 group-hover:opacity-100",children:(0,t.jsx)(c,{})})]});return o?i.isValidElement(u)?i.cloneElement(u,{className:(0,n.cn)(p,u.props.className),ref:r,...m},f):null:(0,t.jsx)("button",{className:p,ref:r,...m,children:f})});s.displayName="Button"},483:(e,r,a)=>{"use strict";a.d(r,{$:()=>n,d:()=>i});var t=a(2115);let i=(0,t.createContext)(null),n=(0,t.createContext)(null)},864:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(5155),i=a(2115),n=a(5384);let s=i.forwardRef((e,r)=>{let{className:a,trackClassName:s,thumbClassName:l,value:o,onValueChange:c,defaultValue:d=0,max:u=100,step:m=1,...p}=e,f=(0,i.useRef)(null),[h,v]=(0,i.useState)(d),[x,g]=(0,i.useState)(!1),b=void 0!==o?o:h,y=e=>{if(!x||!f.current)return;let r=f.current.getBoundingClientRect(),a=Math.round(Math.max(0,Math.min(u,(e.clientX-r.left)/r.width*u))/m)*m;void 0===o&&v(a),c&&c([a])};(0,i.useEffect)(()=>{let e=()=>{g(!1)};return x?(document.addEventListener("mousemove",y),document.addEventListener("mouseup",e)):(document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",e)),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",e)}},[x,u,m,o,c,y]);let j=e=>{g(!0),y(e)},w=b/u*100;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",a),...p,children:(0,t.jsxs)("div",{ref:f,className:(0,n.cn)("relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",s),onMouseDown:j,children:[(0,t.jsx)("div",{className:"absolute h-full bg-primary",style:{width:"".concat(w,"%")}}),(0,t.jsx)("div",{className:(0,n.cn)("absolute top-1/2 -translate-y-1/2 block h-4 w-4 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l),style:{left:"".concat(w,"%"),transform:"translate(-50%, -50%)"},onMouseDown:e=>{e.stopPropagation(),j(e)}})]})})});s.displayName="Slider"},3714:(e,r,a)=>{"use strict";a.d(r,{E:()=>n});var t=a(5155),i=a(5384);function n(e){let{className:r,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",r),...a})}},5384:(e,r,a)=>{"use strict";a.d(r,{cn:()=>n});var t=a(2596),i=a(9688);function n(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,i.QP)((0,t.$)(r))}},6952:(e,r,a)=>{"use strict";a.d(r,{default:()=>p});var t=a(5155),i=a(6874),n=a.n(i),s=a(2115),l=a(5384);let o=s.forwardRef((e,r)=>{let{className:a,type:i,...n}=e;return(0,t.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...n})});o.displayName="Input";var c=a(183),d=a(7924),u=a(6408),m=a(760);function p(){let[e,r]=(0,s.useState)(""),a=(0,s.useRef)(),i=(0,s.useRef)();return(0,t.jsxs)(u.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"w-full",children:[(0,t.jsx)(n(),{href:"/search/"+e,ref:a}),(0,t.jsx)("form",{onSubmit:t=>{if(t.preventDefault(),!e)return void router.push("/");a.current.click(),i.current.blur(),r("")},className:"relative w-full group",children:(0,t.jsxs)(u.P.div,{initial:!1,animate:{boxShadow:e?"0 0 20px 2px rgba(var(--primary), 0.1)":"none"},className:"relative rounded-2xl overflow-hidden backdrop-blur-sm",children:[(0,t.jsx)(o,{ref:i,value:e,onChange:e=>r(e.target.value),autoComplete:"off",type:"search",className:"w-full h-10 pl-12 pr-4 bg-black/20 border border-primary/10 placeholder-muted-foreground/50 rounded-2xl focus:ring-2 focus:ring-primary/20 transition-all duration-300",name:"query",placeholder:"Search your favorite music..."}),(0,t.jsx)(u.P.div,{className:"absolute left-0 top-0 h-full flex items-center pl-4",initial:{opacity:.5},animate:{opacity:1},transition:{duration:.2},children:(0,t.jsx)(d.A,{className:"w-4 h-4 text-muted-foreground"})}),(0,t.jsx)(m.N,{children:e&&(0,t.jsx)(u.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute right-0 top-0 h-full flex items-center pr-4",children:(0,t.jsx)(c.$,{type:"submit",size:"icon",variant:"ghost",className:"h-7 w-7 rounded-full hover:bg-primary/10",children:(0,t.jsx)(u.P.div,{initial:{rotate:-90},animate:{rotate:0},transition:{duration:.2},children:(0,t.jsx)(d.A,{className:"w-3 h-3 text-primary"})})})})})]})})]})}},7373:(e,r,a)=>{"use strict";a.d(r,{default:()=>j});var t=a(5155),i=a(6874),n=a.n(i),s=a(864),l=a(6408),o=a(3714),c=a(1013),d=a(483),u=a(46),m=a(2115),p=a(2152),f=a(1040),h=a(5273),v=a(3786),x=a(1335),g=a(2753),b=a(5690),y=a(4416);function j(){var e,r,a,i,j;let w=(0,m.useRef)(null),[N,P]=(0,m.useState)([]),[k,S]=(0,m.useState)(1),E=(0,m.useContext)(d.$),[C,A]=(0,m.useState)(0),[z,L]=(0,m.useState)(""),[H,T]=(0,m.useState)(!1),[$,M]=(0,m.useState)(0),[R,_]=(0,m.useState)(!1),I={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},tap:{scale:.95},hover:{scale:1.05}},U=async()=>{var e,r,a,t,i,n,s,l,o,c;let d=await fetch("/api/songs?id=".concat(E.music)),u=await d.json();P(u.data[0]),(null==u||null==(r=u.data[0])||null==(e=r.downloadUrl[2])?void 0:e.url)?L(null==u||null==(n=u.data[0])||null==(i=n.downloadUrl[2])?void 0:i.url):(null==u||null==(t=u.data[0])||null==(a=t.downloadUrl[1])?void 0:a.url)?L(null==u||null==(l=u.data[0])||null==(s=l.downloadUrl[1])?void 0:s.url):L(null==u||null==(c=u.data[0])||null==(o=c.downloadUrl[0])?void 0:o.url)},D=e=>{let r=Math.floor(e/60),a=Math.floor(e%60);return"".concat(String(r).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))},{current:B,setCurrent:F}=(0,u.J)(),V=e=>{let r=e[0];w.current&&(w.current.volume=r,S(r))};return(0,m.useEffect)(()=>{if(E.music){U(),B&&(w.current.currentTime=parseFloat(B+1)),T("true"==localStorage.getItem("p")||!localStorage.getItem("p"));let e=()=>{try{M(w.current.currentTime),A(w.current.duration),F(w.current.currentTime)}catch(e){T(!1)}},r=()=>{w.current&&S(w.current.volume)};return w.current.addEventListener("timeupdate",e),w.current.addEventListener("volumechange",r),()=>{w.current&&(w.current.removeEventListener("timeupdate",e),w.current.removeEventListener("volumechange",r))}}},[E.music]),(0,t.jsxs)("main",{children:[(0,t.jsx)("audio",{autoPlay:H,onPlay:()=>T(!0),onPause:()=>T(!1),onLoadedData:()=>A(w.current.duration),src:z,ref:w}),(0,t.jsx)(l.P.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:20},className:"fixed bottom-0 left-0 right-0 z-50 flex justify-center px-4 pb-16 md:pb-4",children:(0,t.jsxs)(l.P.div,{className:"w-full max-w-2xl bg-black/80 backdrop-blur-lg border-2 border-primary/50 rounded-xl shadow-xl shadow-black overflow-hidden",whileHover:{scale:1.02},transition:{duration:.2},children:[(0,t.jsx)("div",{className:"p-4 pt-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)(l.P.div,{className:"flex items-center gap-4 flex-1 min-w-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[(null==N?void 0:N.image)?(0,t.jsxs)(l.P.div,{whileHover:{scale:1.05},className:"relative rounded-xl overflow-hidden shadow-lg shadow-primary/10",children:[(0,t.jsx)("img",{src:null==N||null==(e=N.image[1])?void 0:e.url,alt:null==N?void 0:N.name,className:"h-16 w-16 object-cover"}),(0,t.jsx)(l.P.div,{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent",initial:{opacity:0},whileHover:{opacity:1}})]}):(0,t.jsx)(o.E,{className:"h-16 w-16 rounded-xl"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(null==N?void 0:N.name)?(0,t.jsx)(n(),{href:"/".concat(E.music),children:(0,t.jsxs)(l.P.div,{className:"flex items-center gap-2 group",whileHover:{x:5},children:[(0,t.jsx)("h2",{className:"text-base font-medium truncate group-hover:text-primary transition-colors",children:null==N?void 0:N.name}),(0,t.jsx)(v.A,{className:"h-3.5 w-3.5 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})}):(0,t.jsx)(o.E,{className:"h-5 w-32"}),(null==N||null==(a=N.artists)||null==(r=a.primary[0])?void 0:r.name)?(0,t.jsx)(l.P.p,{className:"text-sm text-muted-foreground/80 truncate mt-1",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.2},children:null==N||null==(j=N.artists)||null==(i=j.primary[0])?void 0:i.name}):(0,t.jsx)(o.E,{className:"h-4 w-24 mt-1.5"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1.5 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:D($)})," ",(0,t.jsx)("span",{children:"/"})," ",(0,t.jsx)("span",{children:D(C)})]})]})]}),(0,t.jsxs)(l.P.div,{className:"flex items-center gap-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.P.button,{variants:I,whileHover:"hover",whileTap:"tap",className:"p-2 rounded-xl hover:bg-primary/10 transition-colors",onClick:()=>V([+(0===k)]),children:0===k?(0,t.jsx)(p.A,{className:"h-4 w-4"}):k<.5?(0,t.jsx)(f.A,{className:"h-4 w-4"}):(0,t.jsx)(h.A,{className:"h-4 w-4"})}),(0,t.jsx)(s.A,{thumbClassName:"h-3 w-3 bg-primary border-2 border-primary-foreground",trackClassName:"h-1.5 bg-primary/30 group-hover:bg-primary/50 transition-all duration-300",onValueChange:V,value:[k],max:1,step:.01,className:"w-20 group"})]}),(0,t.jsx)(l.P.button,{variants:I,whileHover:"hover",whileTap:"tap",onClick:()=>{w.current.loop=!w.current.loop,_(!R)},className:"p-2 rounded-xl ".concat(R?"bg-primary/20":"hover:bg-primary/10"," transition-colors"),children:R?(0,t.jsx)(g.A,{className:"h-4 w-4 text-primary"}):(0,t.jsx)(x.A,{className:"h-4 w-4"})}),(0,t.jsx)(l.P.button,{variants:I,whileHover:"hover",whileTap:"tap",onClick:()=>{H?w.current.pause():w.current.play(),T(!H)},className:"p-3 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",disabled:!E.music,children:H?(0,t.jsx)(c.FML,{className:"h-5 w-5"}):(0,t.jsx)(b.A,{className:"h-5 w-5"})}),(0,t.jsx)(l.P.button,{variants:I,whileHover:"hover",whileTap:"tap",onClick:()=>{E.setMusic(null),F(0),localStorage.clear(),w.current&&(w.current.currentTime=0,w.current.src=null),L(null),P([]),T(!1)},className:"p-2 rounded-xl hover:bg-primary/10 transition-colors",disabled:!E.music,children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)("div",{className:"w-full mb-4",children:C&&E.music?(0,t.jsx)("div",{className:"px-0.5 pt-0.5",children:(0,t.jsx)(s.A,{thumbClassName:"h-4 w-4 bg-primary border-2 border-primary-foreground",trackClassName:"h-2 bg-primary/30 group-hover:bg-primary/50 transition-all duration-300",onValueChange:e=>{let r=e[0];w.current.currentTime=r,M(r)},value:[$],max:C,className:"w-full group"})}):(0,t.jsx)(o.E,{className:"h-2 w-full"})})]})})]})}},8104:(e,r,a)=>{Promise.resolve().then(a.bind(a,7373)),Promise.resolve().then(a.bind(a,9524)),Promise.resolve().then(a.bind(a,6952))},9524:(e,r,a)=>{"use strict";a.d(r,{default:()=>f});var t=a(5155),i=a(6874),n=a.n(i),s=a(6408);function l(){return(0,t.jsx)(n(),{href:"/",className:"select-none",children:(0,t.jsxs)(s.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative",children:[(0,t.jsxs)(s.P.h1,{className:"text-2xl font-bold relative z-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:["Audio",(0,t.jsx)(s.P.span,{initial:{opacity:0,x:-10},animate:{opacity:.7,x:0},transition:{delay:.2,duration:.3},className:"font-medium text-primary",children:"Sphere"})]}),(0,t.jsx)(s.P.div,{className:"absolute inset-0 blur-2xl bg-primary/20 rounded-full",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,repeatType:"reverse"}})]})})}var o=a(6952),c=a(183),d=a(5695),u=a(2355),m=a(6516),p=a(4783);function f(){let e=(0,d.usePathname)();return(0,t.jsx)(s.P.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"sticky top-0 z-40 w-full backdrop-blur-xl bg-background/80 border-b border-primary/10",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)(s.P.div,{className:"flex items-center gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[(0,t.jsx)(l,{}),"/"!==e&&(0,t.jsx)(s.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:(0,t.jsx)(c.$,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center gap-2 hover:bg-primary/10",asChild:!0,children:(0,t.jsxs)(n(),{href:"/",children:[(0,t.jsx)(u.A,{className:"w-4 h-4"})," ",(0,t.jsx)("span",{children:"Back"})]})})})]}),(0,t.jsx)(s.P.div,{className:"flex-1 max-w-xl px-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,t.jsx)(o.default,{})}),(0,t.jsxs)(s.P.div,{className:"flex items-center gap-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:[(0,t.jsx)(c.$,{variant:"ghost",size:"icon",className:"hidden sm:flex hover:bg-primary/10",children:(0,t.jsx)(m.A,{className:"w-4 h-4"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"icon",className:"sm:hidden hover:bg-primary/10",children:(0,t.jsx)(p.A,{className:"w-4 h-4"})})]})]})})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[512,598,299,874,126,441,684,358],()=>r(8104)),_N_E=e.O()}]);